<%- include("navbar") %>
<!-- ----------------------------MAIN------------------------------ -->

<main class="container mb-5">
  <div class="row mt-5">
    <div class="col-xl-6 col-lg-6 col-md-12 flex-column col-md-4 prodotto">
      <div
        class="d-flex flex-column align-items-center justify-content-center h-100"
      >
        <!-- per visualizzare le informazioni per singola scheda prodotto -->
        <img
          src="<%=prodotto.image%>"
          width="400px"
          class="mb-5"
          class="rounded prodotto"
        />
      </div>
    </div>
    <div class="col-xl-6 col-lg-6 col-md-12">
      <h3><%= prodotto.nomeProdotto %></h3>
      <h5 class="mt-3">€ <%= prodotto.prezzo %></h5>
      <h6 class="colore">Colore: <%= prodotto.colore %></h6>
      <!-- <button
        class="btn btn-outline dropdown-toggle mt-5"
        id="taglia"
        role="button"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        Scegli una taglia
      </button> -->
      <% if (prodotto._id == "600af1ecb09c3e14e5a75881" || prodotto._id ==
      "600af1ecb09c3e14e5a7587f") { %>
      <select id="hidden"></select>
      <% } else if (prodotto._id == "600af1ecb09c3e14e5a7587b" || prodotto._id
      == "600af1ecb09c3e14e5a75879") { %>
      <select
        class="form-select mt-5"
        aria-label="Default select example"
        id="taglia"
        onchange="myFunction()"
      >
        <option selected>Scegli il tuo numero</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
      </select>
      <% } else { %>
      <select
        class="form-select mt-5"
        aria-label="Default select example"
        id="taglia"
        onchange="myFunction()"
      >
        <option selected>Scegli la tua taglia</option>
        <option value="XS">XS</option>
        <option value="XS">S</option>
        <option value="XS">M</option>
        <option value="XS">L</option>
        <option value="XS">XL</option>
      </select>
      <% } %>

      <div>
        <!--con il metodo post catturo le info che vanno al server dopo aver cliccato il bottone 
          "aggiungi carrello".  Prendo l'id dell'utente e del prodotto tramite request body.-->
        <form action="/carrello" method="post">
          <input type="hidden" name="userId" value="<%=user._id%>" />
          <input type="hidden" name="prodottoId" value="<%=prodotto._id%>" />
          <button class="btn mt-3" type="submit" id="aggiungi">
            Aggiungi al carrello
          </button>
        </form>
      </div>
      <div>
        <ul class="list-group mt-5">
          <li class="list-group-item">
            <strong>Materiale:</strong>
            <p class="mt-2"><%= prodotto.materiale %></p>
          </li>
          <li class="list-group-item">
            <strong>Dettagli:</strong>
            <p class="mt-2"><%= prodotto.dettagli %></p>
          </li>
        </ul>
        <div class="rounded-2 mt-5" id="consegna">
          <i class="bi bi-truck"></i>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill=" #f25c78"
            class="bi bi-truck"
            viewBox="0 0 16 16"
          >
            <path
              d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"
            />
          </svg>
          <p>Il tuo ordine arriverà in <strong>10 giorni</strong>.</p>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- ----------------------------FOOTER------------------------------ -->
<script>
  function muFunction() {
    const taglia = document.getElementById("taglia").value;
    console.log(taglia);
  }
</script>
<%- include("footer") %>
